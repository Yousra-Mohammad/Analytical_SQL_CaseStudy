

# Analytical SQL Case Study

This case study focused on analyzing customer behavior and implementing a monetary model using SQL analytical functions. The goal is to gain insights into customer purchasing patterns, segment customers based on their behavior, and answer specific questions using the provided dataset.

## Background
The dataset consists of purchasing transactions from customers, and the objective is to understand customer behavior in order to target them effectively, increase sales and revenue, improve customer retention, and reduce churn.

## Questions to Answer

### Q1 ) Analytical SQL Queries

By leveraging the OnlineRetail dataset, I have formulated five insightful analytical SQL queries that intricately weave together a compelling narrative about the data. Each query, accompanied by its corresponding business meaning, sheds light on crucial aspects of product performance, customer behavior, and revenue distribution.
and these are there business meanings:

  **1. Top 5 Selling Products by Revenue:**
       This query identifies the top 5 selling products in terms of revenue generated. It helps the business understand which products are performing the best and can be used to inform        inventory and sales strategies.
  
  **2. Top 10 Customers in Terms of Revenue:**
       This query identifies the top 10 customers who generate the most revenue through their purchases. It allows the business to focus on these high-value customers and implement            targeted marketing strategies or loyalty programs to maintain their loyalty and encourage repeat purchases.
  
  **3. Customer Lifetime Value (CLV):**
    This query calculates the CLV for each customer, which is a measure of the total value a customer is expected to generate over their entire lifetime. It helps the business identify      the most valuable customers and prioritize efforts to retain them.
  
  **4. Correlation between Tenure and Total Revenue:**
      This query calculates the correlation coefficient between the tenure of customers and their total revenue. It helps understand the relationship between customer longevity and           their spending patterns. A positive correlation suggests that customers who have been with the business for a longer time tend to generate more revenue.
  
  **5. Verification of Pareto Principle:**
    This query checks whether the "Pareto principle" is being achieved by analyzing the percentage of total revenue generated by the top 20% of customers. The principle states that         roughly 80% of consequences come from 20% of causes. This analysis helps assess if a significant portion of revenue is driven by a small group of customers.

These queries provide valuable insights into product performance, customer behavior, and revenue distribution, enabling data-driven decision-making and strategic planning for the business.



### Q2 ) Implementing a Monetary Model and Customer Segmentation
After exploring the data, I was required to implement a monetary model to analyze customer behavior and segment them into specific groups. The segmentation based on recency, frequency, and monetary values. The following customer groups will be assigned:

- Champions
- Loyal Customers
- Potential Loyalists
- Recent Customers
- Promising Customers
- Customers Needing Attention
- At Risk Customers
- Can't Lose Them Customers
- Hibernating Customers
- Lost Customers

The segmentation involved calculating the average scores of frequency and monetary values to reduce the complexity of marketing strategies.

### Q3 - Daily Purchasing Transactions Dataset

   I have been provided with a comprehensive daily purchasing transactions dataset for customers. To gain meaningful insights, the following questions have been addressed:

  a) What is the maximum number of consecutive days a customer made purchases?
  
  To answer this question, I designed a SQL query to identify the maximum number of consecutive days each customer made purchases. The query utilizes a Common Table Expression (CTE)     to calculate the number of days between consecutive orders for each customer. By analyzing the resulting data, the maximum consecutive days of purchases per customer can be             determined, providing valuable information about customer engagement and shopping habits.

  b) On average, how many days/transactions does it take a customer to reach a spending threshold of 250 L.E?

  To address this inquiry, an SQL query was formulated to calculate the average number of days or transactions it takes for a customer to reach a spending threshold of 250 L.E. The       query employs CTEs to compute the running total of purchases for each customer over time. It then identifies the first order and the corresponding threshold day when the running       total surpasses or equals 250 L.E. By evaluating the average difference between the first order and the threshold day across all customers, valuable insights can be obtained           regarding customer behavior and the time it typically takes to achieve the spending threshold.

These analytical SQL queries provide valuable answers to the questions posed, allowing for a deeper understanding of customer purchasing patterns and behaviors in the Daily Purchasing Transactions dataset.

## Expected Outcome

Upon completing the case study, you will have gained insights into customer behavior, implemented a monetary model for segmentation, and answered specific questions about the dataset.

Please refer to the provided documentation and SQL queries within this repository to explore the analysis and findings in more detail.

